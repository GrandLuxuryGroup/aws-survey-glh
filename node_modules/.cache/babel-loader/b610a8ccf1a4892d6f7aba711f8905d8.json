{"ast":null,"code":"var _jsxFileName = \"/Users/christophe/dev/amplify/glh-survey/src/components/SurveyComponent.js\";\nimport React, { Component } from \"react\";\nimport * as Survey from \"survey-react\";\nimport \"survey-react/survey.css\";\nimport { createSurvey, createTracking } from \"../graphql/mutations\";\nimport { graphqlOperation, API } from \"aws-amplify\";\nimport { history } from '../AppWithAuth';\nSurvey.StylesManager.applyTheme(\"orange\");\n\nclass SurveyComponent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isCompleted: false,\n      finalResult: \"\"\n    };\n\n    this.onCompleteComponent = async result => {\n      try {\n        const hotelName = this.props.userAttributes['custom:HotelName']; //await API.graphql(graphqlOperation(createSurvey, {input:result.data} ));\n        //await API.graphql(graphqlOperation(createTracking, {input:{'HotelName':hotelName}}));\n\n        console.log(this.props.userAttributes['custom:HotelName']);\n        console.log(result.data);\n        this.setState({\n          isCompleted: true\n        });\n        history.push('/Final');\n      } catch (err) {\n        console.error(\"error during delete\", err);\n      }\n    };\n  }\n\n  render() {\n    /*let data = {\n      HotelClosed: true,\n      HotelReopenDate: \"2021-02-02\",\n      ConfinementZone: true,\n      ConfinementEnd: \"2022-02-02\",\n      NbBookings: 7,\n      NbCancelation: 8,\n      ClientLocation: {\n        'Pays #1': {\n          Nom: 'Paris',\n          Nombre: '7'\n        },\n        'Pays #2': {\n          Nom: 'Londres',\n          Nombre: '8'\n        },\n        'Pays #3': {\n          Nom: 'Maroc',\n          Nombre: '9'\n        },\n        Autres: {\n          Nom: 'New-York',\n          Nombre: '10'\n        }\n      },\n      BusinessSegment: {\n        FIT: \"8\",\n        MICE: \"9\",\n        Corporate: \"10\"\n      }\n    };*/\n    let json = {\n      \"pages\": [{\n        \"name\": \"GENERAL INFORMATION\",\n        \"elements\": [{\n          \"type\": \"panel\",\n          \"name\": \"Hotel Closure\",\n          \"elements\": [{\n            \"type\": \"boolean\",\n            \"name\": \"IsHotelClosed\",\n            \"title\": \"Is your hotel closed ?\",\n            \"isRequired\": true,\n            \"labelTrue\": \"Yes\",\n            \"labelFalse\": \"No\"\n          }, {\n            \"type\": \"text\",\n            \"name\": \"HotelReopeningDate\",\n            \"visibleIf\": \"{IsHotelClosed} = true\",\n            \"width\": \"25\",\n            \"title\": \"If yes, expected reopening date ?\",\n            \"isRequired\": true,\n            \"inputType\": \"date\",\n            \"max\": \"2999-12-31\"\n          }],\n          \"title\": \"Hotel Closure\"\n        }, {\n          \"type\": \"panel\",\n          \"name\": \"Local containment\",\n          \"elements\": [{\n            \"type\": \"boolean\",\n            \"name\": \"isHotelContainmentZone\",\n            \"title\": \"Is your hotel located in a containment zone ?\",\n            \"isRequired\": true,\n            \"labelTrue\": \"Yes\",\n            \"labelFalse\": \"No\"\n          }, {\n            \"type\": \"text\",\n            \"name\": \"HotelContainmentEndDate\",\n            \"visibleIf\": \"{isHotelContainmentZone} = true\",\n            \"width\": \"25\",\n            \"title\": \"If yes, official end of containment date ? (expected date)\",\n            \"isRequired\": true,\n            \"inputType\": \"date\",\n            \"max\": \"2999-12-31\"\n          }],\n          \"title\": \"Local containment\"\n        }],\n        \"title\": \"GENERAL INFORMATION (Page 1/3)\"\n      }, {\n        \"name\": \"LAST WEEK ACTIVITY\",\n        \"elements\": [{\n          \"type\": \"panel\",\n          \"name\": \"LastWeekActivity\",\n          \"elements\": [{\n            \"type\": \"text\",\n            \"name\": \"NbBookings\",\n            \"width\": \"10\",\n            \"title\": \"Total number of bookings\",\n            \"isRequired\": true,\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n          }, {\n            \"type\": \"text\",\n            \"name\": \"NbRoomNightsBooked\",\n            \"width\": \"10\",\n            \"title\": \"Total number of room nights booked\",\n            \"isRequired\": true,\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n          }, {\n            \"type\": \"text\",\n            \"name\": \"NbRoomNightsCanceled\",\n            \"width\": \"10\",\n            \"title\": \"Total number of room nights cancelled\",\n            \"isRequired\": true,\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n          }],\n          \"title\": \"Last Week Activity - General Information\"\n        }, {\n          \"type\": \"panel\",\n          \"name\": \"panel1\",\n          \"elements\": [{\n            \"type\": \"matrixdropdown\",\n            \"name\": \"RoomsNightsSplit\",\n            \"width\": \"300\",\n            \"title\": \"Split of total room nights booked by client country of origin (countries 1 to 5 in number of nights descending order)\",\n            \"validators\": [{\n              \"type\": \"expression\",\n              \"text\": \"\\\"Other Countries\\\" cannot be negative \",\n              \"expression\": \"({NbRoomNightsBooked}-{RoomsNightsSplit.Country1.NbRoomNights}-{RoomsNightsSplit.Country2.NbRoomNights}-{RoomsNightsSplit.Country3.NbRoomNights}-{RoomsNightsSplit.Country4.NbRoomNights}-{RoomsNightsSplit.Country5.NbRoomNights})>=0\"\n            }],\n            \"columns\": [{\n              \"name\": \"Country\",\n              \"title\": \"Country\",\n              \"cellType\": \"dropdown\",\n              \"width\": \"20\",\n              \"choicesOrder\": \"asc\",\n              \"choicesByUrl\": {\n                \"url\": \"https://restcountries.eu/rest/v2/all\",\n                \"valueName\": \"name\"\n              }\n            }, {\n              \"name\": \"NbRoomNights\",\n              \"title\": \"NB of room nights\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"totalExpression\": \"{NbRoomNightsBooked}-{RoomsNightsSplit.Country1.NbRoomNights}-{RoomsNightsSplit.Country2.NbRoomNights}-{RoomsNightsSplit.Country3.NbRoomNights}-{RoomsNightsSplit.Country4.NbRoomNights}-{RoomsNightsSplit.Country5.NbRoomNights}\",\n              \"totalDisplayStyle\": \"decimal\",\n              \"inputType\": \"number\"\n            }],\n            \"rows\": [{\n              \"value\": \"Country1\",\n              \"text\": \"Country of Origin #1 (largest)\"\n            }, {\n              \"value\": \"Country2\",\n              \"text\": \"Country of Origin #2 \"\n            }, {\n              \"value\": \"Country3\",\n              \"text\": \"Country of Origin #3\"\n            }, {\n              \"value\": \"Country4\",\n              \"text\": \"Country of Origin #4\"\n            }, {\n              \"value\": \"Country5\",\n              \"text\": \"Country of Origin #5\"\n            }],\n            \"totalText\": \"Other Countries\"\n          }]\n        }, {\n          \"type\": \"matrixdropdown\",\n          \"name\": \"SplitTotalRoomsBusinessSegment\",\n          \"width\": \"300\",\n          \"title\": \"Split of total room nights booked by business segment\",\n          \"validators\": [{\n            \"type\": \"expression\",\n            \"text\": \"\\\"Remaining rooms nights booked by segment\\\" should be equals to 0.\",\n            \"expression\": \"({NbRoomNightsBooked}-{SplitTotalRoomsBusinessSegment.FIT.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.Corporate.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.MICE.NbRoomsNightsBS})=0\"\n          }],\n          \"columns\": [{\n            \"name\": \"NbRoomsNightsBS\",\n            \"title\": \"Nb of rooms nights\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"{NbRoomNightsBooked}-{SplitTotalRoomsBusinessSegment.FIT.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.Corporate.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.MICE.NbRoomsNightsBS}\",\n            \"inputType\": \"number\"\n          }],\n          \"choices\": [1, 2, 3, 4, 5],\n          \"cellType\": \"text\",\n          \"rows\": [{\n            \"value\": \"FIT\",\n            \"text\": \"FIT\"\n          }, {\n            \"value\": \"MICE\",\n            \"text\": \"MICE\"\n          }, {\n            \"value\": \"Corporate\",\n            \"text\": \"Corporate\"\n          }],\n          \"totalText\": \"Remaining room nights to be allocated to a business segment\"\n        }, {\n          \"type\": \"panel\",\n          \"name\": \"panel3\",\n          \"elements\": [{\n            \"type\": \"matrixdropdown\",\n            \"name\": \"SplitByMonth\",\n            \"title\": \"Split of total room nights booked by stay month\",\n            \"validators\": [{\n              \"type\": \"expression\",\n              \"text\": \"\\\"Stay from October 2020 or later\\\" cannot be negative\",\n              \"expression\": \"{SplitByMonth.NbRoomsByMonth.M7} >= 0\"\n            }],\n            \"columns\": [{\n              \"name\": \"M1\",\n              \"title\": \"Stay in April 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n            }, {\n              \"name\": \"M2\",\n              \"title\": \"Stay in May 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n            }, {\n              \"name\": \"M3\",\n              \"title\": \"Stay in June 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n            }, {\n              \"name\": \"M4\",\n              \"title\": \"Stay in July 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n            }, {\n              \"name\": \"M5\",\n              \"title\": \"Stay in August 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n            }, {\n              \"name\": \"M6\",\n              \"title\": \"Stay in September 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n            }, {\n              \"name\": \"M7\",\n              \"title\": \"Stay from October 2020 or later\",\n              \"cellType\": \"expression\",\n              \"width\": \"10\",\n              \"expression\": \"{NbRoomNightsBooked}-{row.M1}-{row.M2}-{row.M3}-{row.M4}-{row.M5}-{row.M6}\"\n            }],\n            \"choices\": [1, 2, 3, 4, 5],\n            \"cellType\": \"text\",\n            \"rows\": [{\n              \"value\": \"NbRoomsByMonth\",\n              \"text\": \"Number of room nights booked last week\"\n            }]\n          }]\n        }],\n        \"title\": \"LAST WEEK ACTIVITY (from Monday to Sunday)(Page 2/3)\"\n      }, {\n        \"name\": \"ON THE BOOK\",\n        \"elements\": [{\n          \"type\": \"text\",\n          \"name\": \"TotalNumberRoomAvailable\",\n          \"width\": \"10\",\n          \"title\": \"Total number of rooms in your hotel\",\n          \"isRequired\": true,\n          \"titleLocation\": \"left\",\n          \"inputType\": \"number\",\n          \"size\": 10\n        }, {\n          \"type\": \"matrixdropdown\",\n          \"name\": \"SplitTotalRoomAvailable\",\n          \"title\": \"Split of total room nights available for sale by month\",\n          \"validators\": [{\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for September 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M6})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M6} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M6} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M6}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}=0) \"\n          }, {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for August 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M5})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M5} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M5} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M5}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}=0) \"\n          }, {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for July 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M4})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M4} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M4} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M4}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}=0) \"\n          }, {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for June 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M3})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M3} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M3} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M3}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}=0) \"\n          }, {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for April 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M1})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M1} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M1} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M1}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}=0) \"\n          }, {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for May 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M2})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M2} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M2} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M2}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}=0) \"\n          }],\n          \"columns\": [{\n            \"name\": \"M1\",\n            \"title\": \"April 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M1})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n          }, {\n            \"name\": \"M2\",\n            \"title\": \"May 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M2})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n          }, {\n            \"name\": \"M3\",\n            \"title\": \"June 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M3})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n          }, {\n            \"name\": \"M4\",\n            \"title\": \"July 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M4})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n          }, {\n            \"name\": \"M5\",\n            \"title\": \"August 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M5})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n          }, {\n            \"name\": \"M6\",\n            \"title\": \"September 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M6})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n          }],\n          \"choices\": [1, 2, 3, 4, 5],\n          \"cellType\": \"text\",\n          \"rows\": [{\n            \"value\": \"NbOfOccupiedRooms\",\n            \"text\": \"Number of occupied rooms\"\n          }, {\n            \"value\": \"TotalRoomNightAvailable\",\n            \"text\": \"Total \\\"room nights\\\" available for sale\"\n          }],\n          \"totalText\": \"Occupancy Rate (%)\"\n        }, {\n          \"type\": \"panel\",\n          \"name\": \"panel4\"\n        }],\n        \"title\": \"ON THE BOOK (stay month)(Page 3/3)\"\n      }]\n    };\n    var data = {\n      \"IsHotelClosed\": false\n    };\n    var surveyRender = !this.state.isCompleted ? /*#__PURE__*/React.createElement(Survey.Survey, {\n      json: json\n      /*data={data}*/\n      ,\n      showCompletedPage: false,\n      onComplete: this.onCompleteComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 7\n      }\n    }) : null;\n    /*var onCompleteComponent = this.state.isCompleted ? (\n    ) : null;*/\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 7\n      }\n    }, surveyRender);\n  }\n\n}\n\nexport default SurveyComponent;","map":{"version":3,"sources":["/Users/christophe/dev/amplify/glh-survey/src/components/SurveyComponent.js"],"names":["React","Component","Survey","createSurvey","createTracking","graphqlOperation","API","history","StylesManager","applyTheme","SurveyComponent","state","isCompleted","finalResult","onCompleteComponent","result","hotelName","props","userAttributes","console","log","data","setState","push","err","error","render","json","surveyRender"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as Survey from \"survey-react\";\nimport \"survey-react/survey.css\";\nimport { createSurvey, createTracking } from \"../graphql/mutations\";\nimport { graphqlOperation, API } from \"aws-amplify\";\nimport { history } from '../AppWithAuth';\n\nSurvey.StylesManager.applyTheme(\"orange\");\n\nclass SurveyComponent extends Component {\n\n  state = {\n    isCompleted : false,\n    finalResult : \"\"\n  }\n\n  onCompleteComponent = async (result) => {\n    try {\n      const hotelName = this.props.userAttributes['custom:HotelName'];\n      //await API.graphql(graphqlOperation(createSurvey, {input:result.data} ));\n      //await API.graphql(graphqlOperation(createTracking, {input:{'HotelName':hotelName}}));\n      console.log(this.props.userAttributes['custom:HotelName']);\n      console.log(result.data);\n      this.setState({ isCompleted: true});\n      history.push('/Final');\n    } catch (err) {\n      console.error(\"error during delete\", err);\n    }\n  }\n\n  render() {\n\n    /*let data = {\n      HotelClosed: true,\n      HotelReopenDate: \"2021-02-02\",\n      ConfinementZone: true,\n      ConfinementEnd: \"2022-02-02\",\n      NbBookings: 7,\n      NbCancelation: 8,\n      ClientLocation: {\n        'Pays #1': {\n          Nom: 'Paris',\n          Nombre: '7'\n        },\n        'Pays #2': {\n          Nom: 'Londres',\n          Nombre: '8'\n        },\n        'Pays #3': {\n          Nom: 'Maroc',\n          Nombre: '9'\n        },\n        Autres: {\n          Nom: 'New-York',\n          Nombre: '10'\n        }\n      },\n      BusinessSegment: {\n        FIT: \"8\",\n        MICE: \"9\",\n        Corporate: \"10\"\n      }\n    };*/\n\n    let json = {\n      \"pages\": [\n       {\n        \"name\": \"GENERAL INFORMATION\",\n        \"elements\": [\n         {\n          \"type\": \"panel\",\n          \"name\": \"Hotel Closure\",\n          \"elements\": [\n           {\n            \"type\": \"boolean\",\n            \"name\": \"IsHotelClosed\",\n            \"title\": \"Is your hotel closed ?\",\n            \"isRequired\": true,\n            \"labelTrue\": \"Yes\",\n            \"labelFalse\": \"No\"\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"HotelReopeningDate\",\n            \"visibleIf\": \"{IsHotelClosed} = true\",\n            \"width\": \"25\",\n            \"title\": \"If yes, expected reopening date ?\",\n            \"isRequired\": true,\n            \"inputType\": \"date\",\n            \"max\": \"2999-12-31\"\n           }\n          ],\n          \"title\": \"Hotel Closure\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"Local containment\",\n          \"elements\": [\n           {\n            \"type\": \"boolean\",\n            \"name\": \"isHotelContainmentZone\",\n            \"title\": \"Is your hotel located in a containment zone ?\",\n            \"isRequired\": true,\n            \"labelTrue\": \"Yes\",\n            \"labelFalse\": \"No\"\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"HotelContainmentEndDate\",\n            \"visibleIf\": \"{isHotelContainmentZone} = true\",\n            \"width\": \"25\",\n            \"title\": \"If yes, official end of containment date ? (expected date)\",\n            \"isRequired\": true,\n            \"inputType\": \"date\",\n            \"max\": \"2999-12-31\"\n           }\n          ],\n          \"title\": \"Local containment\"\n         }\n        ],\n        \"title\": \"GENERAL INFORMATION (Page 1/3)\"\n       },\n       {\n        \"name\": \"LAST WEEK ACTIVITY\",\n        \"elements\": [\n         {\n          \"type\": \"panel\",\n          \"name\": \"LastWeekActivity\",\n          \"elements\": [\n           {\n            \"type\": \"text\",\n            \"name\": \"NbBookings\",\n            \"width\": \"10\",\n            \"title\": \"Total number of bookings\",\n            \"isRequired\": true,\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"NbRoomNightsBooked\",\n            \"width\": \"10\",\n            \"title\": \"Total number of room nights booked\",\n            \"isRequired\": true,\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"NbRoomNightsCanceled\",\n            \"width\": \"10\",\n            \"title\": \"Total number of room nights cancelled\",\n            \"isRequired\": true,\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           }\n          ],\n          \"title\": \"Last Week Activity - General Information\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"panel1\",\n          \"elements\": [\n           {\n            \"type\": \"matrixdropdown\",\n            \"name\": \"RoomsNightsSplit\",\n            \"width\": \"300\",\n            \"title\": \"Split of total room nights booked by client country of origin (countries 1 to 5 in number of nights descending order)\",\n            \"validators\": [\n             {\n              \"type\": \"expression\",\n              \"text\": \"\\\"Other Countries\\\" cannot be negative \",\n              \"expression\": \"({NbRoomNightsBooked}-{RoomsNightsSplit.Country1.NbRoomNights}-{RoomsNightsSplit.Country2.NbRoomNights}-{RoomsNightsSplit.Country3.NbRoomNights}-{RoomsNightsSplit.Country4.NbRoomNights}-{RoomsNightsSplit.Country5.NbRoomNights})>=0\"\n             }\n            ],\n            \"columns\": [\n             {\n              \"name\": \"Country\",\n              \"title\": \"Country\",\n              \"cellType\": \"dropdown\",\n              \"width\": \"20\",\n              \"choicesOrder\": \"asc\",\n              \"choicesByUrl\": {\n               \"url\": \"https://restcountries.eu/rest/v2/all\",\n               \"valueName\": \"name\"\n              }\n             },\n             {\n              \"name\": \"NbRoomNights\",\n              \"title\": \"NB of room nights\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"totalExpression\": \"{NbRoomNightsBooked}-{RoomsNightsSplit.Country1.NbRoomNights}-{RoomsNightsSplit.Country2.NbRoomNights}-{RoomsNightsSplit.Country3.NbRoomNights}-{RoomsNightsSplit.Country4.NbRoomNights}-{RoomsNightsSplit.Country5.NbRoomNights}\",\n              \"totalDisplayStyle\": \"decimal\",\n              \"inputType\": \"number\"\n             }\n            ],\n            \"rows\": [\n             {\n              \"value\": \"Country1\",\n              \"text\": \"Country of Origin #1 (largest)\"\n             },\n             {\n              \"value\": \"Country2\",\n              \"text\": \"Country of Origin #2 \"\n             },\n             {\n              \"value\": \"Country3\",\n              \"text\": \"Country of Origin #3\"\n             },\n             {\n              \"value\": \"Country4\",\n              \"text\": \"Country of Origin #4\"\n             },\n             {\n              \"value\": \"Country5\",\n              \"text\": \"Country of Origin #5\"\n             }\n            ],\n            \"totalText\": \"Other Countries\"\n           }\n          ]\n         },\n         {\n          \"type\": \"matrixdropdown\",\n          \"name\": \"SplitTotalRoomsBusinessSegment\",\n          \"width\": \"300\",\n          \"title\": \"Split of total room nights booked by business segment\",\n          \"validators\": [\n           {\n            \"type\": \"expression\",\n            \"text\": \"\\\"Remaining rooms nights booked by segment\\\" should be equals to 0.\",\n            \"expression\": \"({NbRoomNightsBooked}-{SplitTotalRoomsBusinessSegment.FIT.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.Corporate.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.MICE.NbRoomsNightsBS})=0\"\n           }\n          ],\n          \"columns\": [\n           {\n            \"name\": \"NbRoomsNightsBS\",\n            \"title\": \"Nb of rooms nights\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"{NbRoomNightsBooked}-{SplitTotalRoomsBusinessSegment.FIT.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.Corporate.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.MICE.NbRoomsNightsBS}\",\n            \"inputType\": \"number\"\n           }\n          ],\n          \"choices\": [\n           1,\n           2,\n           3,\n           4,\n           5\n          ],\n          \"cellType\": \"text\",\n          \"rows\": [\n           {\n            \"value\": \"FIT\",\n            \"text\": \"FIT\"\n           },\n           {\n            \"value\": \"MICE\",\n            \"text\": \"MICE\"\n           },\n           {\n            \"value\": \"Corporate\",\n            \"text\": \"Corporate\"\n           }\n          ],\n          \"totalText\": \"Remaining room nights to be allocated to a business segment\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"panel3\",\n          \"elements\": [\n           {\n            \"type\": \"matrixdropdown\",\n            \"name\": \"SplitByMonth\",\n            \"title\": \"Split of total room nights booked by stay month\",\n            \"validators\": [\n             {\n              \"type\": \"expression\",\n              \"text\": \"\\\"Stay from October 2020 or later\\\" cannot be negative\",\n              \"expression\": \"{SplitByMonth.NbRoomsByMonth.M7} >= 0\"\n             }\n            ],\n            \"columns\": [\n             {\n              \"name\": \"M1\",\n              \"title\": \"Stay in April 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M2\",\n              \"title\": \"Stay in May 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M3\",\n              \"title\": \"Stay in June 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M4\",\n              \"title\": \"Stay in July 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M5\",\n              \"title\": \"Stay in August 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M6\",\n              \"title\": \"Stay in September 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M7\",\n              \"title\": \"Stay from October 2020 or later\",\n              \"cellType\": \"expression\",\n              \"width\": \"10\",\n              \"expression\": \"{NbRoomNightsBooked}-{row.M1}-{row.M2}-{row.M3}-{row.M4}-{row.M5}-{row.M6}\"\n             }\n            ],\n            \"choices\": [\n             1,\n             2,\n             3,\n             4,\n             5\n            ],\n            \"cellType\": \"text\",\n            \"rows\": [\n             {\n              \"value\": \"NbRoomsByMonth\",\n              \"text\": \"Number of room nights booked last week\"\n             }\n            ]\n           }\n          ]\n         }\n        ],\n        \"title\": \"LAST WEEK ACTIVITY (from Monday to Sunday)(Page 2/3)\"\n       },\n       {\n        \"name\": \"ON THE BOOK\",\n        \"elements\": [\n         {\n          \"type\": \"text\",\n          \"name\": \"TotalNumberRoomAvailable\",\n          \"width\": \"10\",\n          \"title\": \"Total number of rooms in your hotel\",\n          \"isRequired\": true,\n          \"titleLocation\": \"left\",\n          \"inputType\": \"number\",\n          \"size\": 10\n         },\n         {\n          \"type\": \"matrixdropdown\",\n          \"name\": \"SplitTotalRoomAvailable\",\n          \"title\": \"Split of total room nights available for sale by month\",\n          \"validators\": [\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for September 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M6})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M6} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M6} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M6}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}=0) \"\n           },\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for August 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M5})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M5} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M5} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M5}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}=0) \"\n           },\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for July 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M4})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M4} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M4} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M4}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}=0) \"\n           },\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for June 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M3})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M3} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M3} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M3}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}=0) \"\n           },\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for April 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M1})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M1} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M1} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M1}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}=0) \"\n           },\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for May 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M2})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M2} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M2} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M2}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}=0) \"\n           }\n          ],\n          \"columns\": [\n           {\n            \"name\": \"M1\",\n            \"title\": \"April 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M1})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           },\n           {\n            \"name\": \"M2\",\n            \"title\": \"May 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M2})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           },\n           {\n            \"name\": \"M3\",\n            \"title\": \"June 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M3})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           },\n           {\n            \"name\": \"M4\",\n            \"title\": \"July 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M4})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           },\n           {\n            \"name\": \"M5\",\n            \"title\": \"August 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M5})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           },\n           {\n            \"name\": \"M6\",\n            \"title\": \"September 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M6})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           }\n          ],\n          \"choices\": [\n           1,\n           2,\n           3,\n           4,\n           5\n          ],\n          \"cellType\": \"text\",\n          \"rows\": [\n           {\n            \"value\": \"NbOfOccupiedRooms\",\n            \"text\": \"Number of occupied rooms\"\n           },\n           {\n            \"value\": \"TotalRoomNightAvailable\",\n            \"text\": \"Total \\\"room nights\\\" available for sale\"\n           }\n          ],\n          \"totalText\": \"Occupancy Rate (%)\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"panel4\"\n         }\n        ],\n        \"title\": \"ON THE BOOK (stay month)(Page 3/3)\"\n       }\n      ]\n     };\n\n     var data = {\n      \"IsHotelClosed\": false}\n\n    var surveyRender = !this.state.isCompleted ? (\n      <Survey.Survey\n        json={json}\n        /*data={data}*/\n        showCompletedPage={false}\n        onComplete={this.onCompleteComponent}\n      />\n    ) : null;\n\n    \n    /*var onCompleteComponent = this.state.isCompleted ? (\n    ) : null;*/\n\n    return (\n      <div>\n        {surveyRender}\n      </div>\n    );\n  }\n}\n\nexport default SurveyComponent;"]},"metadata":{},"sourceType":"module"}