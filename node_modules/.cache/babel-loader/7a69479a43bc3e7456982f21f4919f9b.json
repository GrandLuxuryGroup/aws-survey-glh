{"ast":null,"code":"import _regeneratorRuntime from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import*as Survey from\"survey-react\";import\"survey-react/survey.css\";import{createSurvey,createTracking}from\"../graphql/mutations\";import{graphqlOperation,API}from\"aws-amplify\";import{history}from'../AppWithAuth';Survey.StylesManager.applyTheme(\"orange\");var SurveyComponent=/*#__PURE__*/function(_Component){_inherits(SurveyComponent,_Component);var _super=_createSuper(SurveyComponent);function SurveyComponent(){var _this;_classCallCheck(this,SurveyComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isCompleted:false,finalResult:\"\"};_this.onCompleteComponent=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(result){var hotelName;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{hotelName=_this.props.userAttributes['custom:HotelName'];//await API.graphql(graphqlOperation(createSurvey, {input:result.data} ));\n//await API.graphql(graphqlOperation(createTracking, {input:{'HotelName':hotelName}}));\nconsole.log(_this.props.userAttributes['custom:HotelName']);console.log(result.data);_this.setState({isCompleted:true});history.push('/Final');}catch(err){console.error(\"error during delete\",err);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(SurveyComponent,[{key:\"render\",value:function render(){/*let data = {\n      HotelClosed: true,\n      HotelReopenDate: \"2021-02-02\",\n      ConfinementZone: true,\n      ConfinementEnd: \"2022-02-02\",\n      NbBookings: 7,\n      NbCancelation: 8,\n      ClientLocation: {\n        'Pays #1': {\n          Nom: 'Paris',\n          Nombre: '7'\n        },\n        'Pays #2': {\n          Nom: 'Londres',\n          Nombre: '8'\n        },\n        'Pays #3': {\n          Nom: 'Maroc',\n          Nombre: '9'\n        },\n        Autres: {\n          Nom: 'New-York',\n          Nombre: '10'\n        }\n      },\n      BusinessSegment: {\n        FIT: \"8\",\n        MICE: \"9\",\n        Corporate: \"10\"\n      }\n    };*/var json={\"pages\":[{\"name\":\"GENERAL INFORMATION\",\"elements\":[{\"type\":\"panel\",\"name\":\"Hotel Closure\",\"elements\":[{\"type\":\"boolean\",\"name\":\"IsHotelClosed\",\"title\":\"Is your hotel closed ?\",\"isRequired\":true,\"labelTrue\":\"Yes\",\"labelFalse\":\"No\"},{\"type\":\"text\",\"name\":\"HotelReopeningDate\",\"visibleIf\":\"{IsHotelClosed} = true\",\"width\":\"25\",\"title\":\"If yes, expected reopening date ?\",\"isRequired\":true,\"inputType\":\"date\",\"max\":\"2999-12-31\"}],\"title\":\"Hotel Closure\"},{\"type\":\"panel\",\"name\":\"Local containment\",\"elements\":[{\"type\":\"boolean\",\"name\":\"isHotelContainmentZone\",\"title\":\"Is your hotel located in a containment zone ?\",\"isRequired\":true,\"labelTrue\":\"Yes\",\"labelFalse\":\"No\"},{\"type\":\"text\",\"name\":\"HotelContainmentEndDate\",\"visibleIf\":\"{isHotelContainmentZone} = true\",\"width\":\"25\",\"title\":\"If yes, official end of containment date ? (expected date)\",\"isRequired\":true,\"inputType\":\"date\",\"max\":\"2999-12-31\"}],\"title\":\"Local containment\"}],\"title\":\"GENERAL INFORMATION\"},{\"name\":\"LAST WEEK ACTIVITY\",\"elements\":[{\"type\":\"panel\",\"name\":\"LastWeekActivity\",\"elements\":[{\"type\":\"text\",\"name\":\"NbBookings\",\"width\":\"10\",\"title\":\"Total number of bookings\",\"titleLocation\":\"left\",\"inputType\":\"number\",\"size\":10},{\"type\":\"text\",\"name\":\"NbRoomNightsBooked\",\"width\":\"10\",\"title\":\"Total number of room nights booked\",\"isRequired\":true,\"titleLocation\":\"left\",\"inputType\":\"number\",\"size\":10},{\"type\":\"text\",\"name\":\"NbRoomNightsCanceled\",\"width\":\"10\",\"title\":\"Total number of room nights cancelled\",\"titleLocation\":\"left\",\"inputType\":\"number\",\"size\":10}],\"title\":\"Last Week Activity - General Information\"},{\"type\":\"panel\",\"name\":\"panel1\",\"elements\":[{\"type\":\"matrixdropdown\",\"name\":\"RoomsNightsSplit\",\"width\":\"300\",\"title\":\"Split of total room nights booked by client country of origin (countries 1 to 5 in number of nights descending order)\",\"columns\":[{\"name\":\"Country\",\"title\":\"Country\",\"cellType\":\"dropdown\",\"width\":\"20\",\"choicesByUrl\":{\"url\":\"https://restcountries.eu/rest/v2/all\",\"valueName\":\"name\"}},{\"name\":\"NbRoomNights\",\"title\":\"NB of room nights\",\"cellType\":\"text\",\"width\":\"10\",\"totalExpression\":\"{NbRoomNightsBooked}-{RoomsNightsSplit.Country1.NbRoomNights}-{RoomsNightsSplit.Country2.NbRoomNights}-{RoomsNightsSplit.Country3.NbRoomNights}-{RoomsNightsSplit.Country4.NbRoomNights}-{RoomsNightsSplit.Country5.NbRoomNights}\",\"totalDisplayStyle\":\"decimal\",\"inputType\":\"number\"}],\"rows\":[{\"value\":\"Country1\",\"text\":\"Country of Origin #1 (largest)\"},{\"value\":\"Country2\",\"text\":\"Country of Origin #2 \"},{\"value\":\"Country3\",\"text\":\"Country of Origin #3\"},{\"value\":\"Country4\",\"text\":\"Country of Origin #4\"},{\"value\":\"Country5\",\"text\":\"Country of Origin #5\"}],\"totalText\":\"Other Countries\"}]},{\"type\":\"panel\",\"name\":\"panel2\",\"elements\":[{\"type\":\"text\",\"name\":\"FIT\",\"width\":\"10\",\"title\":\"FIT\",\"titleLocation\":\"left\",\"inputType\":\"number\",\"size\":10},{\"type\":\"text\",\"name\":\"MICE\",\"width\":\"10\",\"title\":\"MICE\",\"titleLocation\":\"left\",\"inputType\":\"number\",\"size\":10},{\"type\":\"text\",\"name\":\"Corporate\",\"width\":\"10\",\"title\":\"Corporate\",\"titleLocation\":\"left\",\"inputType\":\"number\",\"size\":10}],\"title\":\"Split of total room nights booked by business segment\"},{\"type\":\"panel\",\"name\":\"panel3\",\"elements\":[{\"type\":\"matrixdropdown\",\"name\":\"SplitByMonth\",\"title\":\"Split of total room nights booked by stay month\",\"columns\":[{\"name\":\"M1\",\"title\":\"Stay in April 2020\",\"width\":\"10\"},{\"name\":\"M2\",\"title\":\"Stay in May 2020\",\"width\":\"10\"},{\"name\":\"M3\",\"title\":\"Stay in June 2020\",\"width\":\"10\"},{\"name\":\"M4\",\"title\":\"Stay in July 2020\",\"width\":\"10\"},{\"name\":\"M5\",\"title\":\"Stay in August 2020\",\"width\":\"10\"},{\"name\":\"M6\",\"title\":\"Stay in September 2020\",\"width\":\"10\"},{\"name\":\"M7\",\"title\":\"Stay from October 2020 or later\",\"cellType\":\"expression\",\"width\":\"10\",\"expression\":\"{NbRoomNightsBooked}-{row.M1}+{row.M2}+{row.M3}-{row.M4}+{row.M5}+{row.M6}\"}],\"choices\":[1,2,3,4,5],\"cellType\":\"text\",\"rows\":[{\"value\":\"NbRoomsByMonth\",\"text\":\"Number of room nights booked last week\"}]}]}],\"title\":\"LAST WEEK ACTIVITY (from Monday to Sunday)\"},{\"name\":\"ON THE BOOK\",\"elements\":[{\"type\":\"text\",\"name\":\"TotalNumberRoomNightsAvailable\",\"width\":\"10\",\"title\":\"Total number of rooms nights available for sale (on a monthly basis)\",\"titleLocation\":\"left\",\"inputType\":\"number\",\"size\":10},{\"type\":\"matrixdropdown\",\"name\":\"SplitTotalRoomAvailable\",\"title\":\"Split of total room nights available for sale by month\",\"columns\":[{\"name\":\"M1\",\"title\":\"April 2020\",\"width\":\"10\",\"totalExpression\":\"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}\"},{\"name\":\"M2\",\"title\":\"May 2020\",\"width\":\"10\",\"totalExpression\":\"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}\"},{\"name\":\"M3\",\"title\":\"June 2020\",\"width\":\"10\",\"totalExpression\":\"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}\"},{\"name\":\"M4\",\"title\":\"July 2020\",\"width\":\"10\",\"totalExpression\":\"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}\"},{\"name\":\"M5\",\"title\":\"August 2020\",\"width\":\"10\",\"totalExpression\":\"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}\"},{\"name\":\"M6\",\"title\":\"September 2020\",\"width\":\"10\",\"totalExpression\":\"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}\"}],\"choices\":[1,2,3,4,5],\"cellType\":\"text\",\"rows\":[{\"value\":\"NbOfOccupiedRooms\",\"text\":\"Number of occupied rooms\"}],\"totalText\":\"Total number of rooms nights available for sale\"},{\"type\":\"panel\",\"name\":\"panel4\"}],\"title\":\"ON THE BOOK (stay month)\"}]};var surveyRender=!this.state.isCompleted?/*#__PURE__*/React.createElement(Survey.Survey,{json:json/*data={data}*/,showCompletedPage:false,onComplete:this.onCompleteComponent}):null;/*var onCompleteComponent = this.state.isCompleted ? (\n    ) : null;*/return/*#__PURE__*/React.createElement(\"div\",null,surveyRender);}}]);return SurveyComponent;}(Component);export default SurveyComponent;","map":{"version":3,"sources":["/Users/christophe/dev/amplify/glh-survey/src/components/SurveyComponent.js"],"names":["React","Component","Survey","createSurvey","createTracking","graphqlOperation","API","history","StylesManager","applyTheme","SurveyComponent","state","isCompleted","finalResult","onCompleteComponent","result","hotelName","props","userAttributes","console","log","data","setState","push","err","error","json","surveyRender"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as Survey from \"survey-react\";\nimport \"survey-react/survey.css\";\nimport { createSurvey, createTracking } from \"../graphql/mutations\";\nimport { graphqlOperation, API } from \"aws-amplify\";\nimport { history } from '../AppWithAuth';\n\nSurvey.StylesManager.applyTheme(\"orange\");\n\nclass SurveyComponent extends Component {\n\n  state = {\n    isCompleted : false,\n    finalResult : \"\"\n  }\n\n  onCompleteComponent = async (result) => {\n    try {\n      const hotelName = this.props.userAttributes['custom:HotelName'];\n      //await API.graphql(graphqlOperation(createSurvey, {input:result.data} ));\n      //await API.graphql(graphqlOperation(createTracking, {input:{'HotelName':hotelName}}));\n      console.log(this.props.userAttributes['custom:HotelName']);\n      console.log(result.data);\n      this.setState({ isCompleted: true});\n      history.push('/Final');\n    } catch (err) {\n      console.error(\"error during delete\", err);\n    }\n  }\n\n  render() {\n\n    /*let data = {\n      HotelClosed: true,\n      HotelReopenDate: \"2021-02-02\",\n      ConfinementZone: true,\n      ConfinementEnd: \"2022-02-02\",\n      NbBookings: 7,\n      NbCancelation: 8,\n      ClientLocation: {\n        'Pays #1': {\n          Nom: 'Paris',\n          Nombre: '7'\n        },\n        'Pays #2': {\n          Nom: 'Londres',\n          Nombre: '8'\n        },\n        'Pays #3': {\n          Nom: 'Maroc',\n          Nombre: '9'\n        },\n        Autres: {\n          Nom: 'New-York',\n          Nombre: '10'\n        }\n      },\n      BusinessSegment: {\n        FIT: \"8\",\n        MICE: \"9\",\n        Corporate: \"10\"\n      }\n    };*/\n\n    let json = {\n      \"pages\": [\n       {\n        \"name\": \"GENERAL INFORMATION\",\n        \"elements\": [\n         {\n          \"type\": \"panel\",\n          \"name\": \"Hotel Closure\",\n          \"elements\": [\n           {\n            \"type\": \"boolean\",\n            \"name\": \"IsHotelClosed\",\n            \"title\": \"Is your hotel closed ?\",\n            \"isRequired\": true,\n            \"labelTrue\": \"Yes\",\n            \"labelFalse\": \"No\"\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"HotelReopeningDate\",\n            \"visibleIf\": \"{IsHotelClosed} = true\",\n            \"width\": \"25\",\n            \"title\": \"If yes, expected reopening date ?\",\n            \"isRequired\": true,\n            \"inputType\": \"date\",\n            \"max\": \"2999-12-31\"\n           }\n          ],\n          \"title\": \"Hotel Closure\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"Local containment\",\n          \"elements\": [\n           {\n            \"type\": \"boolean\",\n            \"name\": \"isHotelContainmentZone\",\n            \"title\": \"Is your hotel located in a containment zone ?\",\n            \"isRequired\": true,\n            \"labelTrue\": \"Yes\",\n            \"labelFalse\": \"No\"\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"HotelContainmentEndDate\",\n            \"visibleIf\": \"{isHotelContainmentZone} = true\",\n            \"width\": \"25\",\n            \"title\": \"If yes, official end of containment date ? (expected date)\",\n            \"isRequired\": true,\n            \"inputType\": \"date\",\n            \"max\": \"2999-12-31\"\n           }\n          ],\n          \"title\": \"Local containment\"\n         }\n        ],\n        \"title\": \"GENERAL INFORMATION\"\n       },\n       {\n        \"name\": \"LAST WEEK ACTIVITY\",\n        \"elements\": [\n         {\n          \"type\": \"panel\",\n          \"name\": \"LastWeekActivity\",\n          \"elements\": [\n           {\n            \"type\": \"text\",\n            \"name\": \"NbBookings\",\n            \"width\": \"10\",\n            \"title\": \"Total number of bookings\",\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"NbRoomNightsBooked\",\n            \"width\": \"10\",\n            \"title\": \"Total number of room nights booked\",\n            \"isRequired\": true,\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"NbRoomNightsCanceled\",\n            \"width\": \"10\",\n            \"title\": \"Total number of room nights cancelled\",\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           }\n          ],\n          \"title\": \"Last Week Activity - General Information\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"panel1\",\n          \"elements\": [\n           {\n            \"type\": \"matrixdropdown\",\n            \"name\": \"RoomsNightsSplit\",\n            \"width\": \"300\",\n            \"title\": \"Split of total room nights booked by client country of origin (countries 1 to 5 in number of nights descending order)\",\n            \"columns\": [\n             {\n              \"name\": \"Country\",\n              \"title\": \"Country\",\n              \"cellType\": \"dropdown\",\n              \"width\": \"20\",\n              \"choicesByUrl\": {\n               \"url\": \"https://restcountries.eu/rest/v2/all\",\n               \"valueName\": \"name\"\n              }\n             },\n             {\n              \"name\": \"NbRoomNights\",\n              \"title\": \"NB of room nights\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"totalExpression\": \"{NbRoomNightsBooked}-{RoomsNightsSplit.Country1.NbRoomNights}-{RoomsNightsSplit.Country2.NbRoomNights}-{RoomsNightsSplit.Country3.NbRoomNights}-{RoomsNightsSplit.Country4.NbRoomNights}-{RoomsNightsSplit.Country5.NbRoomNights}\",\n              \"totalDisplayStyle\": \"decimal\",\n              \"inputType\": \"number\"\n             }\n            ],\n            \"rows\": [\n             {\n              \"value\": \"Country1\",\n              \"text\": \"Country of Origin #1 (largest)\"\n             },\n             {\n              \"value\": \"Country2\",\n              \"text\": \"Country of Origin #2 \"\n             },\n             {\n              \"value\": \"Country3\",\n              \"text\": \"Country of Origin #3\"\n             },\n             {\n              \"value\": \"Country4\",\n              \"text\": \"Country of Origin #4\"\n             },\n             {\n              \"value\": \"Country5\",\n              \"text\": \"Country of Origin #5\"\n             }\n            ],\n            \"totalText\": \"Other Countries\"\n           }\n          ]\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"panel2\",\n          \"elements\": [\n           {\n            \"type\": \"text\",\n            \"name\": \"FIT\",\n            \"width\": \"10\",\n            \"title\": \"FIT\",\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"MICE\",\n            \"width\": \"10\",\n            \"title\": \"MICE\",\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"Corporate\",\n            \"width\": \"10\",\n            \"title\": \"Corporate\",\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           }\n          ],\n          \"title\": \"Split of total room nights booked by business segment\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"panel3\",\n          \"elements\": [\n           {\n            \"type\": \"matrixdropdown\",\n            \"name\": \"SplitByMonth\",\n            \"title\": \"Split of total room nights booked by stay month\",\n            \"columns\": [\n             {\n              \"name\": \"M1\",\n              \"title\": \"Stay in April 2020\",\n              \"width\": \"10\"\n             },\n             {\n              \"name\": \"M2\",\n              \"title\": \"Stay in May 2020\",\n              \"width\": \"10\"\n             },\n             {\n              \"name\": \"M3\",\n              \"title\": \"Stay in June 2020\",\n              \"width\": \"10\"\n             },\n             {\n              \"name\": \"M4\",\n              \"title\": \"Stay in July 2020\",\n              \"width\": \"10\"\n             },\n             {\n              \"name\": \"M5\",\n              \"title\": \"Stay in August 2020\",\n              \"width\": \"10\"\n             },\n             {\n              \"name\": \"M6\",\n              \"title\": \"Stay in September 2020\",\n              \"width\": \"10\"\n             },\n             {\n              \"name\": \"M7\",\n              \"title\": \"Stay from October 2020 or later\",\n              \"cellType\": \"expression\",\n              \"width\": \"10\",\n              \"expression\": \"{NbRoomNightsBooked}-{row.M1}+{row.M2}+{row.M3}-{row.M4}+{row.M5}+{row.M6}\"\n             }\n            ],\n            \"choices\": [\n             1,\n             2,\n             3,\n             4,\n             5\n            ],\n            \"cellType\": \"text\",\n            \"rows\": [\n             {\n              \"value\": \"NbRoomsByMonth\",\n              \"text\": \"Number of room nights booked last week\"\n             }\n            ]\n           }\n          ]\n         }\n        ],\n        \"title\": \"LAST WEEK ACTIVITY (from Monday to Sunday)\"\n       },\n       {\n        \"name\": \"ON THE BOOK\",\n        \"elements\": [\n         {\n          \"type\": \"text\",\n          \"name\": \"TotalNumberRoomNightsAvailable\",\n          \"width\": \"10\",\n          \"title\": \"Total number of rooms nights available for sale (on a monthly basis)\",\n          \"titleLocation\": \"left\",\n          \"inputType\": \"number\",\n          \"size\": 10\n         },\n         {\n          \"type\": \"matrixdropdown\",\n          \"name\": \"SplitTotalRoomAvailable\",\n          \"title\": \"Split of total room nights available for sale by month\",\n          \"columns\": [\n           {\n            \"name\": \"M1\",\n            \"title\": \"April 2020\",\n            \"width\": \"10\",\n            \"totalExpression\": \"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}\"\n           },\n           {\n            \"name\": \"M2\",\n            \"title\": \"May 2020\",\n            \"width\": \"10\",\n            \"totalExpression\": \"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}\"\n           },\n           {\n            \"name\": \"M3\",\n            \"title\": \"June 2020\",\n            \"width\": \"10\",\n            \"totalExpression\": \"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}\"\n           },\n           {\n            \"name\": \"M4\",\n            \"title\": \"July 2020\",\n            \"width\": \"10\",\n            \"totalExpression\": \"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}\"\n           },\n           {\n            \"name\": \"M5\",\n            \"title\": \"August 2020\",\n            \"width\": \"10\",\n            \"totalExpression\": \"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}\"\n           },\n           {\n            \"name\": \"M6\",\n            \"title\": \"September 2020\",\n            \"width\": \"10\",\n            \"totalExpression\": \"{NbRoomNightsBooked}-{SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}\"\n           }\n          ],\n          \"choices\": [\n           1,\n           2,\n           3,\n           4,\n           5\n          ],\n          \"cellType\": \"text\",\n          \"rows\": [\n           {\n            \"value\": \"NbOfOccupiedRooms\",\n            \"text\": \"Number of occupied rooms\"\n           }\n          ],\n          \"totalText\": \"Total number of rooms nights available for sale\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"panel4\"\n         }\n        ],\n        \"title\": \"ON THE BOOK (stay month)\"\n       }\n      ]\n     };\n\n    var surveyRender = !this.state.isCompleted ? (\n      <Survey.Survey\n        json={json}\n        /*data={data}*/\n        showCompletedPage={false}\n        onComplete={this.onCompleteComponent}\n      />\n    ) : null;\n\n    \n    /*var onCompleteComponent = this.state.isCompleted ? (\n    ) : null;*/\n\n    return (\n      <div>\n        {surveyRender}\n      </div>\n    );\n  }\n}\n\nexport default SurveyComponent;"]},"metadata":{},"sourceType":"module"}