{"ast":null,"code":"import _regeneratorRuntime from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/christophe/dev/amplify/glh-survey/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import*as Survey from\"survey-react\";import\"survey-react/survey.css\";import{createSurvey,createTracking}from\"../graphql/mutations\";import{graphqlOperation,API}from\"aws-amplify\";import{history}from'../AppWithAuth';Survey.StylesManager.applyTheme(\"orange\");var SurveyComponent=/*#__PURE__*/function(_Component){_inherits(SurveyComponent,_Component);var _super=_createSuper(SurveyComponent);function SurveyComponent(){var _this;_classCallCheck(this,SurveyComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isCompleted:false,finalResult:\"\"};_this.onCompleteComponent=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(result){var hotelName;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{hotelName=_this.props.userAttributes['custom:HotelName'];//await API.graphql(graphqlOperation(createSurvey, {input:result.data} ));\n//await API.graphql(graphqlOperation(createTracking, {input:{'HotelName':hotelName}}));\nconsole.log(_this.props.userAttributes['custom:HotelName']);console.log(result.data);_this.setState({isCompleted:true});history.push('/Final');}catch(err){console.error(\"error during delete\",err);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(SurveyComponent,[{key:\"render\",value:function render(){/*let data = {\n      HotelClosed: true,\n      HotelReopenDate: \"2021-02-02\",\n      ConfinementZone: true,\n      ConfinementEnd: \"2022-02-02\",\n      NbBookings: 7,\n      NbCancelation: 8,\n      ClientLocation: {\n        'Pays #1': {\n          Nom: 'Paris',\n          Nombre: '7'\n        },\n        'Pays #2': {\n          Nom: 'Londres',\n          Nombre: '8'\n        },\n        'Pays #3': {\n          Nom: 'Maroc',\n          Nombre: '9'\n        },\n        Autres: {\n          Nom: 'New-York',\n          Nombre: '10'\n        }\n      },\n      BusinessSegment: {\n        FIT: \"8\",\n        MICE: \"9\",\n        Corporate: \"10\"\n      }\n    };*/var json={\"pages\":[{\"name\":\"GENERAL INFORMATION\",\"elements\":[{\"type\":\"panel\",\"name\":\"Hotel Closure\",\"elements\":[{\"type\":\"boolean\",\"name\":\"IsHotelClosed\",\"title\":\"Is your hotel closed ?\",\"isRequired\":true,\"labelTrue\":\"Yes\",\"labelFalse\":\"No\"},{\"type\":\"text\",\"name\":\"HotelReopeningDate\",\"visibleIf\":\"{IsHotelClosed} = true\",\"width\":\"25\",\"title\":\"If yes, expected reopening date ?\",\"isRequired\":true,\"inputType\":\"date\",\"max\":\"2999-12-31\"}],\"title\":\"Hotel Closure\"},{\"type\":\"panel\",\"name\":\"Local containment\",\"elements\":[{\"type\":\"boolean\",\"name\":\"isHotelContainmentZone\",\"title\":\"Is your hotel located in a containment zone ?\",\"isRequired\":true,\"labelTrue\":\"Yes\",\"labelFalse\":\"No\"},{\"type\":\"text\",\"name\":\"HotelContainmentEndDate\",\"visibleIf\":\"{isHotelContainmentZone} = true\",\"width\":\"25\",\"title\":\"If yes, official end of containment date ? (expected date)\",\"isRequired\":true,\"inputType\":\"date\",\"max\":\"2999-12-31\"}],\"title\":\"Local containment\"}],\"title\":\"GENERAL INFORMATION\"},{\"name\":\"LAST WEEK ACTIVITY\",\"elements\":[{\"type\":\"panel\",\"name\":\"LastWeekActivity\",\"elements\":[{\"type\":\"text\",\"name\":\"NbBookings\",\"width\":\"10\",\"title\":\"Total number of bookings\",\"isRequired\":true,\"titleLocation\":\"left\",\"inputType\":\"number\",\"size\":10},{\"type\":\"text\",\"name\":\"NbRoomNightsBooked\",\"width\":\"10\",\"title\":\"Total number of room nights booked\",\"isRequired\":true,\"titleLocation\":\"left\",\"inputType\":\"number\",\"size\":10},{\"type\":\"text\",\"name\":\"NbRoomNightsCanceled\",\"width\":\"10\",\"title\":\"Total number of room nights cancelled\",\"isRequired\":true,\"titleLocation\":\"left\",\"inputType\":\"number\",\"size\":10}],\"title\":\"Last Week Activity - General Information\"},{\"type\":\"panel\",\"name\":\"panel1\",\"elements\":[{\"type\":\"matrixdropdown\",\"name\":\"RoomsNightsSplit\",\"width\":\"300\",\"title\":\"Split of total room nights booked by client country of origin (countries 1 to 5 in number of nights descending order)\",\"validators\":[{\"type\":\"expression\",\"text\":\"\\\"Other Countries\\\" cannot be negative \",\"expression\":\"({NbRoomNightsBooked}-{RoomsNightsSplit.Country1.NbRoomNights}-{RoomsNightsSplit.Country2.NbRoomNights}-{RoomsNightsSplit.Country3.NbRoomNights}-{RoomsNightsSplit.Country4.NbRoomNights}-{RoomsNightsSplit.Country5.NbRoomNights})>=0\"}],\"columns\":[{\"name\":\"Country\",\"title\":\"Country\",\"cellType\":\"dropdown\",\"width\":\"20\",\"choicesOrder\":\"asc\",\"choicesByUrl\":{\"url\":\"https://restcountries.eu/rest/v2/all\",\"valueName\":\"name\"}},{\"name\":\"NbRoomNights\",\"title\":\"NB of room nights\",\"cellType\":\"text\",\"width\":\"10\",\"totalExpression\":\"{NbRoomNightsBooked}-{RoomsNightsSplit.Country1.NbRoomNights}-{RoomsNightsSplit.Country2.NbRoomNights}-{RoomsNightsSplit.Country3.NbRoomNights}-{RoomsNightsSplit.Country4.NbRoomNights}-{RoomsNightsSplit.Country5.NbRoomNights}\",\"totalDisplayStyle\":\"decimal\",\"inputType\":\"number\"}],\"rows\":[{\"value\":\"Country1\",\"text\":\"Country of Origin #1 (largest)\"},{\"value\":\"Country2\",\"text\":\"Country of Origin #2 \"},{\"value\":\"Country3\",\"text\":\"Country of Origin #3\"},{\"value\":\"Country4\",\"text\":\"Country of Origin #4\"},{\"value\":\"Country5\",\"text\":\"Country of Origin #5\"}],\"totalText\":\"Other Countries\"}]},{\"type\":\"matrixdropdown\",\"name\":\"SplitTotalRoomsBusinessSegment\",\"width\":\"300\",\"title\":\"Split of total room nights booked by business segment\",\"validators\":[{\"type\":\"expression\",\"text\":\"\\\"Remaining rooms nights booked by segment\\\" cannot be negative\",\"expression\":\"({NbRoomNightsBooked}-{SplitTotalRoomsBusinessSegment.FIT.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.Corporate.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.MICE.NbRoomsNightsBS})>=0\"}],\"columns\":[{\"name\":\"NbRoomsNightsBS\",\"title\":\"Nb of rooms nights\",\"cellType\":\"text\",\"width\":\"10\",\"totalExpression\":\"{NbRoomNightsBooked}-{SplitTotalRoomsBusinessSegment.FIT.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.Corporate.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.MICE.NbRoomsNightsBS}\",\"inputType\":\"number\"}],\"choices\":[1,2,3,4,5],\"cellType\":\"text\",\"rows\":[{\"value\":\"FIT\",\"text\":\"FIT\"},{\"value\":\"MICE\",\"text\":\"MICE\"},{\"value\":\"Corporate\",\"text\":\"Corporate\"}],\"totalText\":\"Remaining room nights to be allocated to a business segment\"},{\"type\":\"panel\",\"name\":\"panel3\",\"elements\":[{\"type\":\"matrixdropdown\",\"name\":\"SplitByMonth\",\"title\":\"Split of total room nights booked by stay month\",\"validators\":[{\"type\":\"expression\",\"text\":\"\\\"Stay from October 2020 or later\\\" cannot be negative\",\"expression\":\"{SplitByMonth.NbRoomsByMonth.M7} >= 0\"}],\"columns\":[{\"name\":\"M1\",\"title\":\"Stay in April 2020\",\"cellType\":\"text\",\"width\":\"10\",\"inputType\":\"number\"},{\"name\":\"M2\",\"title\":\"Stay in May 2020\",\"cellType\":\"text\",\"width\":\"10\",\"inputType\":\"number\"},{\"name\":\"M3\",\"title\":\"Stay in June 2020\",\"cellType\":\"text\",\"width\":\"10\",\"inputType\":\"number\"},{\"name\":\"M4\",\"title\":\"Stay in July 2020\",\"cellType\":\"text\",\"width\":\"10\",\"inputType\":\"number\"},{\"name\":\"M5\",\"title\":\"Stay in August 2020\",\"cellType\":\"text\",\"width\":\"10\",\"inputType\":\"number\"},{\"name\":\"M6\",\"title\":\"Stay in September 2020\",\"cellType\":\"text\",\"width\":\"10\",\"inputType\":\"number\"},{\"name\":\"M7\",\"title\":\"Stay from October 2020 or later\",\"cellType\":\"expression\",\"width\":\"10\",\"expression\":\"{NbRoomNightsBooked}-{row.M1}-{row.M2}-{row.M3}-{row.M4}-{row.M5}-{row.M6}\"}],\"choices\":[1,2,3,4,5],\"cellType\":\"text\",\"rows\":[{\"value\":\"NbRoomsByMonth\",\"text\":\"Number of room nights booked last week\"}]}]}],\"title\":\"LAST WEEK ACTIVITY (from Monday to Sunday)\"},{\"name\":\"ON THE BOOK\",\"elements\":[{\"type\":\"text\",\"name\":\"TotalNumberRoomAvailable\",\"width\":\"10\",\"title\":\"Total number of rooms in your hotel\",\"isRequired\":true,\"titleLocation\":\"left\",\"inputType\":\"number\",\"size\":10},{\"type\":\"matrixdropdown\",\"name\":\"SplitTotalRoomAvailable\",\"title\":\"Split of total room nights available for sale by month\",\"validators\":[{\"type\":\"expression\",\"text\":\"The pourcentage is not correct for September 2020.\",\"expression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M6})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M6} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M6} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M6}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}=0) \"},{\"type\":\"expression\",\"text\":\"The pourcentage is not correct for August 2020.\",\"expression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M5})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M5} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M5} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M5}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}=0) \"},{\"type\":\"expression\",\"text\":\"The pourcentage is not correct for July 2020.\",\"expression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M4})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M4} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M4} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M4}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}=0) \"},{\"type\":\"expression\",\"text\":\"The pourcentage is not correct for June 2020.\",\"expression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M3})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M3} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M3} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M3}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}=0) \"},{\"type\":\"expression\",\"text\":\"The pourcentage is not correct for April 2020.\",\"expression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M1})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M1} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M1} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M1}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}=0) \"},{\"type\":\"expression\",\"text\":\"The pourcentage is not correct for May 2020.\",\"expression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M2})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M2} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M2} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M2}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}=0) \"}],\"columns\":[{\"name\":\"M1\",\"title\":\"April 2020\",\"cellType\":\"text\",\"width\":\"10\",\"totalExpression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M1})\",\"totalDisplayStyle\":\"percent\",\"inputType\":\"number\"},{\"name\":\"M2\",\"title\":\"May 2020\",\"cellType\":\"text\",\"width\":\"10\",\"totalExpression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M2})\",\"totalDisplayStyle\":\"percent\",\"inputType\":\"number\"},{\"name\":\"M3\",\"title\":\"June 2020\",\"cellType\":\"text\",\"width\":\"10\",\"totalExpression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M3})\",\"totalDisplayStyle\":\"percent\",\"inputType\":\"number\"},{\"name\":\"M4\",\"title\":\"July 2020\",\"cellType\":\"text\",\"width\":\"10\",\"totalExpression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M4})\",\"totalDisplayStyle\":\"percent\",\"inputType\":\"number\"},{\"name\":\"M5\",\"title\":\"August 2020\",\"cellType\":\"text\",\"width\":\"10\",\"totalExpression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M5})\",\"totalDisplayStyle\":\"percent\",\"inputType\":\"number\"},{\"name\":\"M6\",\"title\":\"September 2020\",\"cellType\":\"text\",\"width\":\"10\",\"totalExpression\":\"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M6})\",\"totalDisplayStyle\":\"percent\",\"inputType\":\"number\"}],\"choices\":[1,2,3,4,5],\"cellType\":\"text\",\"rows\":[{\"value\":\"NbOfOccupiedRooms\",\"text\":\"Number of occupied rooms\"},{\"value\":\"TotalRoomNightAvailable\",\"text\":\"Total \\\"room nights\\\" available for sale\"}],\"totalText\":\"Occupancy Rate (%)\"},{\"type\":\"panel\",\"name\":\"panel4\"}],\"title\":\"ON THE BOOK (stay month)\"}]};var surveyRender=!this.state.isCompleted?/*#__PURE__*/React.createElement(Survey.Survey,{json:json/*data={data}*/,showCompletedPage:false,onComplete:this.onCompleteComponent}):null;/*var onCompleteComponent = this.state.isCompleted ? (\n    ) : null;*/return/*#__PURE__*/React.createElement(\"div\",null,surveyRender);}}]);return SurveyComponent;}(Component);export default SurveyComponent;","map":{"version":3,"sources":["/Users/christophe/dev/amplify/glh-survey/src/components/SurveyComponent.js"],"names":["React","Component","Survey","createSurvey","createTracking","graphqlOperation","API","history","StylesManager","applyTheme","SurveyComponent","state","isCompleted","finalResult","onCompleteComponent","result","hotelName","props","userAttributes","console","log","data","setState","push","err","error","json","surveyRender"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as Survey from \"survey-react\";\nimport \"survey-react/survey.css\";\nimport { createSurvey, createTracking } from \"../graphql/mutations\";\nimport { graphqlOperation, API } from \"aws-amplify\";\nimport { history } from '../AppWithAuth';\n\nSurvey.StylesManager.applyTheme(\"orange\");\n\nclass SurveyComponent extends Component {\n\n  state = {\n    isCompleted : false,\n    finalResult : \"\"\n  }\n\n  onCompleteComponent = async (result) => {\n    try {\n      const hotelName = this.props.userAttributes['custom:HotelName'];\n      //await API.graphql(graphqlOperation(createSurvey, {input:result.data} ));\n      //await API.graphql(graphqlOperation(createTracking, {input:{'HotelName':hotelName}}));\n      console.log(this.props.userAttributes['custom:HotelName']);\n      console.log(result.data);\n      this.setState({ isCompleted: true});\n      history.push('/Final');\n    } catch (err) {\n      console.error(\"error during delete\", err);\n    }\n  }\n\n  render() {\n\n    /*let data = {\n      HotelClosed: true,\n      HotelReopenDate: \"2021-02-02\",\n      ConfinementZone: true,\n      ConfinementEnd: \"2022-02-02\",\n      NbBookings: 7,\n      NbCancelation: 8,\n      ClientLocation: {\n        'Pays #1': {\n          Nom: 'Paris',\n          Nombre: '7'\n        },\n        'Pays #2': {\n          Nom: 'Londres',\n          Nombre: '8'\n        },\n        'Pays #3': {\n          Nom: 'Maroc',\n          Nombre: '9'\n        },\n        Autres: {\n          Nom: 'New-York',\n          Nombre: '10'\n        }\n      },\n      BusinessSegment: {\n        FIT: \"8\",\n        MICE: \"9\",\n        Corporate: \"10\"\n      }\n    };*/\n\n    let json = {\n      \"pages\": [\n       {\n        \"name\": \"GENERAL INFORMATION\",\n        \"elements\": [\n         {\n          \"type\": \"panel\",\n          \"name\": \"Hotel Closure\",\n          \"elements\": [\n           {\n            \"type\": \"boolean\",\n            \"name\": \"IsHotelClosed\",\n            \"title\": \"Is your hotel closed ?\",\n            \"isRequired\": true,\n            \"labelTrue\": \"Yes\",\n            \"labelFalse\": \"No\"\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"HotelReopeningDate\",\n            \"visibleIf\": \"{IsHotelClosed} = true\",\n            \"width\": \"25\",\n            \"title\": \"If yes, expected reopening date ?\",\n            \"isRequired\": true,\n            \"inputType\": \"date\",\n            \"max\": \"2999-12-31\"\n           }\n          ],\n          \"title\": \"Hotel Closure\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"Local containment\",\n          \"elements\": [\n           {\n            \"type\": \"boolean\",\n            \"name\": \"isHotelContainmentZone\",\n            \"title\": \"Is your hotel located in a containment zone ?\",\n            \"isRequired\": true,\n            \"labelTrue\": \"Yes\",\n            \"labelFalse\": \"No\"\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"HotelContainmentEndDate\",\n            \"visibleIf\": \"{isHotelContainmentZone} = true\",\n            \"width\": \"25\",\n            \"title\": \"If yes, official end of containment date ? (expected date)\",\n            \"isRequired\": true,\n            \"inputType\": \"date\",\n            \"max\": \"2999-12-31\"\n           }\n          ],\n          \"title\": \"Local containment\"\n         }\n        ],\n        \"title\": \"GENERAL INFORMATION\"\n       },\n       {\n        \"name\": \"LAST WEEK ACTIVITY\",\n        \"elements\": [\n         {\n          \"type\": \"panel\",\n          \"name\": \"LastWeekActivity\",\n          \"elements\": [\n           {\n            \"type\": \"text\",\n            \"name\": \"NbBookings\",\n            \"width\": \"10\",\n            \"title\": \"Total number of bookings\",\n            \"isRequired\": true,\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"NbRoomNightsBooked\",\n            \"width\": \"10\",\n            \"title\": \"Total number of room nights booked\",\n            \"isRequired\": true,\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           },\n           {\n            \"type\": \"text\",\n            \"name\": \"NbRoomNightsCanceled\",\n            \"width\": \"10\",\n            \"title\": \"Total number of room nights cancelled\",\n            \"isRequired\": true,\n            \"titleLocation\": \"left\",\n            \"inputType\": \"number\",\n            \"size\": 10\n           }\n          ],\n          \"title\": \"Last Week Activity - General Information\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"panel1\",\n          \"elements\": [\n           {\n            \"type\": \"matrixdropdown\",\n            \"name\": \"RoomsNightsSplit\",\n            \"width\": \"300\",\n            \"title\": \"Split of total room nights booked by client country of origin (countries 1 to 5 in number of nights descending order)\",\n            \"validators\": [\n             {\n              \"type\": \"expression\",\n              \"text\": \"\\\"Other Countries\\\" cannot be negative \",\n              \"expression\": \"({NbRoomNightsBooked}-{RoomsNightsSplit.Country1.NbRoomNights}-{RoomsNightsSplit.Country2.NbRoomNights}-{RoomsNightsSplit.Country3.NbRoomNights}-{RoomsNightsSplit.Country4.NbRoomNights}-{RoomsNightsSplit.Country5.NbRoomNights})>=0\"\n             }\n            ],\n            \"columns\": [\n             {\n              \"name\": \"Country\",\n              \"title\": \"Country\",\n              \"cellType\": \"dropdown\",\n              \"width\": \"20\",\n              \"choicesOrder\": \"asc\",\n              \"choicesByUrl\": {\n               \"url\": \"https://restcountries.eu/rest/v2/all\",\n               \"valueName\": \"name\"\n              }\n             },\n             {\n              \"name\": \"NbRoomNights\",\n              \"title\": \"NB of room nights\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"totalExpression\": \"{NbRoomNightsBooked}-{RoomsNightsSplit.Country1.NbRoomNights}-{RoomsNightsSplit.Country2.NbRoomNights}-{RoomsNightsSplit.Country3.NbRoomNights}-{RoomsNightsSplit.Country4.NbRoomNights}-{RoomsNightsSplit.Country5.NbRoomNights}\",\n              \"totalDisplayStyle\": \"decimal\",\n              \"inputType\": \"number\"\n             }\n            ],\n            \"rows\": [\n             {\n              \"value\": \"Country1\",\n              \"text\": \"Country of Origin #1 (largest)\"\n             },\n             {\n              \"value\": \"Country2\",\n              \"text\": \"Country of Origin #2 \"\n             },\n             {\n              \"value\": \"Country3\",\n              \"text\": \"Country of Origin #3\"\n             },\n             {\n              \"value\": \"Country4\",\n              \"text\": \"Country of Origin #4\"\n             },\n             {\n              \"value\": \"Country5\",\n              \"text\": \"Country of Origin #5\"\n             }\n            ],\n            \"totalText\": \"Other Countries\"\n           }\n          ]\n         },\n         {\n          \"type\": \"matrixdropdown\",\n          \"name\": \"SplitTotalRoomsBusinessSegment\",\n          \"width\": \"300\",\n          \"title\": \"Split of total room nights booked by business segment\",\n          \"validators\": [\n           {\n            \"type\": \"expression\",\n            \"text\": \"\\\"Remaining rooms nights booked by segment\\\" cannot be negative\",\n            \"expression\": \"({NbRoomNightsBooked}-{SplitTotalRoomsBusinessSegment.FIT.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.Corporate.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.MICE.NbRoomsNightsBS})>=0\"\n           }\n          ],\n          \"columns\": [\n           {\n            \"name\": \"NbRoomsNightsBS\",\n            \"title\": \"Nb of rooms nights\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"{NbRoomNightsBooked}-{SplitTotalRoomsBusinessSegment.FIT.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.Corporate.NbRoomsNightsBS}-{SplitTotalRoomsBusinessSegment.MICE.NbRoomsNightsBS}\",\n            \"inputType\": \"number\"\n           }\n          ],\n          \"choices\": [\n           1,\n           2,\n           3,\n           4,\n           5\n          ],\n          \"cellType\": \"text\",\n          \"rows\": [\n           {\n            \"value\": \"FIT\",\n            \"text\": \"FIT\"\n           },\n           {\n            \"value\": \"MICE\",\n            \"text\": \"MICE\"\n           },\n           {\n            \"value\": \"Corporate\",\n            \"text\": \"Corporate\"\n           }\n          ],\n          \"totalText\": \"Remaining room nights to be allocated to a business segment\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"panel3\",\n          \"elements\": [\n           {\n            \"type\": \"matrixdropdown\",\n            \"name\": \"SplitByMonth\",\n            \"title\": \"Split of total room nights booked by stay month\",\n            \"validators\": [\n             {\n              \"type\": \"expression\",\n              \"text\": \"\\\"Stay from October 2020 or later\\\" cannot be negative\",\n              \"expression\": \"{SplitByMonth.NbRoomsByMonth.M7} >= 0\"\n             }\n            ],\n            \"columns\": [\n             {\n              \"name\": \"M1\",\n              \"title\": \"Stay in April 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M2\",\n              \"title\": \"Stay in May 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M3\",\n              \"title\": \"Stay in June 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M4\",\n              \"title\": \"Stay in July 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M5\",\n              \"title\": \"Stay in August 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M6\",\n              \"title\": \"Stay in September 2020\",\n              \"cellType\": \"text\",\n              \"width\": \"10\",\n              \"inputType\": \"number\"\n             },\n             {\n              \"name\": \"M7\",\n              \"title\": \"Stay from October 2020 or later\",\n              \"cellType\": \"expression\",\n              \"width\": \"10\",\n              \"expression\": \"{NbRoomNightsBooked}-{row.M1}-{row.M2}-{row.M3}-{row.M4}-{row.M5}-{row.M6}\"\n             }\n            ],\n            \"choices\": [\n             1,\n             2,\n             3,\n             4,\n             5\n            ],\n            \"cellType\": \"text\",\n            \"rows\": [\n             {\n              \"value\": \"NbRoomsByMonth\",\n              \"text\": \"Number of room nights booked last week\"\n             }\n            ]\n           }\n          ]\n         }\n        ],\n        \"title\": \"LAST WEEK ACTIVITY (from Monday to Sunday)\"\n       },\n       {\n        \"name\": \"ON THE BOOK\",\n        \"elements\": [\n         {\n          \"type\": \"text\",\n          \"name\": \"TotalNumberRoomAvailable\",\n          \"width\": \"10\",\n          \"title\": \"Total number of rooms in your hotel\",\n          \"isRequired\": true,\n          \"titleLocation\": \"left\",\n          \"inputType\": \"number\",\n          \"size\": 10\n         },\n         {\n          \"type\": \"matrixdropdown\",\n          \"name\": \"SplitTotalRoomAvailable\",\n          \"title\": \"Split of total room nights available for sale by month\",\n          \"validators\": [\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for September 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M6})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M6} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M6} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M6}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}=0) \"\n           },\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for August 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M5})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M5} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M5} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M5}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}=0) \"\n           },\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for July 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M4})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M4} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M4} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M4}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}=0) \"\n           },\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for June 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M3})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M3} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M3} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M3}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}=0) \"\n           },\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for April 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M1})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M1} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M1} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M1}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}=0) \"\n           },\n           {\n            \"type\": \"expression\",\n            \"text\": \"The pourcentage is not correct for May 2020.\",\n            \"expression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M2})<=1 OR ({SplitTotalRoomAvailable.TotalRoomNightAvailable.M2} empty  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M2} empty) OR \\n({SplitTotalRoomAvailable.TotalRoomNightAvailable.M2}=0  AND {SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}=0) \"\n           }\n          ],\n          \"columns\": [\n           {\n            \"name\": \"M1\",\n            \"title\": \"April 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M1}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M1})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           },\n           {\n            \"name\": \"M2\",\n            \"title\": \"May 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M2}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M2})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           },\n           {\n            \"name\": \"M3\",\n            \"title\": \"June 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M3}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M3})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           },\n           {\n            \"name\": \"M4\",\n            \"title\": \"July 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M4}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M4})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           },\n           {\n            \"name\": \"M5\",\n            \"title\": \"August 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M5}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M5})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           },\n           {\n            \"name\": \"M6\",\n            \"title\": \"September 2020\",\n            \"cellType\": \"text\",\n            \"width\": \"10\",\n            \"totalExpression\": \"({SplitTotalRoomAvailable.NbOfOccupiedRooms.M6}/{SplitTotalRoomAvailable.TotalRoomNightAvailable.M6})\",\n            \"totalDisplayStyle\": \"percent\",\n            \"inputType\": \"number\"\n           }\n          ],\n          \"choices\": [\n           1,\n           2,\n           3,\n           4,\n           5\n          ],\n          \"cellType\": \"text\",\n          \"rows\": [\n           {\n            \"value\": \"NbOfOccupiedRooms\",\n            \"text\": \"Number of occupied rooms\"\n           },\n           {\n            \"value\": \"TotalRoomNightAvailable\",\n            \"text\": \"Total \\\"room nights\\\" available for sale\"\n           }\n          ],\n          \"totalText\": \"Occupancy Rate (%)\"\n         },\n         {\n          \"type\": \"panel\",\n          \"name\": \"panel4\"\n         }\n        ],\n        \"title\": \"ON THE BOOK (stay month)\"\n       }\n      ]\n     };\n\n    var surveyRender = !this.state.isCompleted ? (\n      <Survey.Survey\n        json={json}\n        /*data={data}*/\n        showCompletedPage={false}\n        onComplete={this.onCompleteComponent}\n      />\n    ) : null;\n\n    \n    /*var onCompleteComponent = this.state.isCompleted ? (\n    ) : null;*/\n\n    return (\n      <div>\n        {surveyRender}\n      </div>\n    );\n  }\n}\n\nexport default SurveyComponent;"]},"metadata":{},"sourceType":"module"}